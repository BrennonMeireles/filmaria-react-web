{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\CT Desenvolvimento\\\\Desktop\\\\Nova pasta\\\\filmaria-react-web\\\\src\\\\pages\\\\Filme\\\\index.js\",\n  _s = $RefreshSig$();\nimport { useState, useEffect, useHistory } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { toast } from \"react-toastify\"; // teste\nimport api from \"../../services/api\";\nimport \"./style.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Filme() {\n  _s();\n  const {\n    id\n  } = useParams();\n  const history = useHistory();\n  const [filme, setFilme] = useState([]);\n  useEffect(() => {\n    async function loadFilme() {\n      const res = await api.get(`e-api/?api=filmes/id/${id}`);\n      if (res.data.length === 0) {\n        history.replace(\"/\");\n      }\n      setFilme(res.data);\n    }\n    loadFilme();\n  }, [history, id]);\n  function salvarFilme() {\n    const minhaLista = localStorage.getItem(\"filmes\");\n    let filmesSalvos = JSON.parse(minhaLista) || [];\n\n    // se houver algum filme salvo com esse id precisa ignora-lo\n    const hasFilme = filmesSalvos.some(filmesSalvos => filmesSalvos.id === filme.id);\n    if (hasFilme) {\n      toast.error(\"Este filme j치 est치 na sua lista de favoritos\");\n      return;\n    }\n    filmesSalvos.push(filme);\n    localStorage.setItem(\"filmes\", JSON.stringify(filmesSalvos));\n    toast.success(\"O filme foi adicionado a sua lista de favoritos\");\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"filme-info\",\n      children: /*#__PURE__*/_jsxDEV(\"article\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: filme.nome\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n          src: filme.foto,\n          alt: filme.foto\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Sinopse\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: filme.sinopse\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"botoes\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: salvarFilme,\n            children: \"Salvar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            children: /*#__PURE__*/_jsxDEV(\"a\", {\n              href: `https://www.youtube.com/results?search_query=${filme.nome}+trailer`,\n              target: \"blank\",\n              children: \"Trailer\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 53,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 25\n        }, this)]\n      }, filme.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 17\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 13\n  }, this);\n}\n_s(Filme, \"n70QKvBcOi5o296PNJ9VfBcOHVk=\", false, function () {\n  return [useParams, useHistory];\n});\n_c = Filme;\nvar _c;\n$RefreshReg$(_c, \"Filme\");","map":{"version":3,"names":["useState","useEffect","useHistory","useParams","toast","api","jsxDEV","_jsxDEV","Filme","_s","id","history","filme","setFilme","loadFilme","res","get","data","length","replace","salvarFilme","minhaLista","localStorage","getItem","filmesSalvos","JSON","parse","hasFilme","some","error","push","setItem","stringify","success","className","children","nome","fileName","_jsxFileName","lineNumber","columnNumber","src","foto","alt","sinopse","onClick","href","target","_c","$RefreshReg$"],"sources":["C:/Users/CT Desenvolvimento/Desktop/Nova pasta/filmaria-react-web/src/pages/Filme/index.js"],"sourcesContent":["import { useState, useEffect, useHistory }   from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { toast } from \"react-toastify\"; // teste\r\nimport api       from \"../../services/api\";\r\nimport \"./style.css\";\r\n\r\n export default function Filme() {\r\n        const { id } = useParams()\r\n        const history = useHistory()\r\n        \r\n        const [ filme, setFilme ] = useState([])\r\n\r\n        useEffect(() => {\r\n            async function loadFilme(){\r\n                const res = await api.get(`e-api/?api=filmes/id/${id}`)\r\n\r\n                if(res.data.length === 0) {\r\n                    history.replace(\"/\")\r\n                }\r\n                setFilme(res.data)\r\n            }\r\n            loadFilme()\r\n        }, [history, id])\r\n\r\n        function salvarFilme(){\r\n            const minhaLista = localStorage.getItem(\"filmes\")\r\n            let filmesSalvos = JSON.parse(minhaLista) || []\r\n\r\n            // se houver algum filme salvo com esse id precisa ignora-lo\r\n            const hasFilme = filmesSalvos.some((filmesSalvos => filmesSalvos.id === filme.id))\r\n\r\n            if(hasFilme) {\r\n                toast.error(\"Este filme j치 est치 na sua lista de favoritos\")\r\n                return\r\n            }\r\n            filmesSalvos.push(filme)\r\n            localStorage.setItem(\"filmes\", JSON.stringify(filmesSalvos))\r\n            toast.success(\"O filme foi adicionado a sua lista de favoritos\")\r\n        }\r\n\r\n        return (\r\n            <div className=\"container\">\r\n                <div className=\"filme-info\">\r\n                    <article key={filme.id}>\r\n                        <h2>{filme.nome}</h2>\r\n                        <img src={filme.foto} alt={filme.foto} />\r\n                        <h3>Sinopse</h3>\r\n                        <p>{filme.sinopse}</p>\r\n\r\n                        <div className=\"botoes\">\r\n                            <button onClick={salvarFilme}>Salvar</button>\r\n                            <button>\r\n                                <a href={`https://www.youtube.com/results?search_query=${filme.nome}+trailer`}\r\n                                target=\"blank\">\r\n                                    Trailer\r\n                                </a>\r\n                            </button>\r\n                        </div>\r\n                    </article>\r\n                </div>\r\n            </div>\r\n        )\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}